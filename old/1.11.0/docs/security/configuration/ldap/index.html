<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Active Directory and LDAP - Open Distro for Elasticsearch Documentation</title> <link rel="shortcut icon" href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-135423944-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-135423944-1'); </script> <script type="text/javascript" src="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>Active Directory and LDAP | Open Distro for Elasticsearch Documentation</title> <meta name="generator" content="Jekyll v3.8.6" /> <meta property="og:title" content="Active Directory and LDAP" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Documentation for Open Distro for Elasticsearch, the community-driven, 100% open source distribution of Elasticsearch with advanced security, alerting, deep performance analysis, and more." /> <meta property="og:description" content="Documentation for Open Distro for Elasticsearch, the community-driven, 100% open source distribution of Elasticsearch with advanced security, alerting, deep performance analysis, and more." /> <link rel="canonical" href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/configuration/ldap/" /> <meta property="og:url" content="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/configuration/ldap/" /> <meta property="og:site_name" content="Open Distro for Elasticsearch Documentation" /> <script type="application/ld+json"> {"description":"Documentation for Open Distro for Elasticsearch, the community-driven, 100% open source distribution of Elasticsearch with advanced security, alerting, deep performance analysis, and more.","@type":"WebPage","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/assets/images/logo.svg"}},"url":"https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/configuration/ldap/","headline":"Active Directory and LDAP","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.min.js"></script> <!-- SiteCatalyst code version: H.25.1. Copyright 1996-2012 Adobe, Inc. All Rights Reserved --> <script><!-- /************* DO NOT ALTER ANYTHING BELOW THIS LINE ! **************/ var s_code=s.t();if(s_code)document.write(s_code)//--></script> <script language="JavaScript" type="text/javascript"><!-- if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-') //--></script> <noscript> <img src="//amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazonalldev2/1/H.25.1--NS/0" height="1" width="1" border="0" alt="" /> </noscript> <!--/DO NOT REMOVE/--> <!-- End SiteCatalyst code version: H.25.1. --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/" class="nav-list-link">About</a></li><li class="nav-list-item"><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/version-history/" class="nav-list-link">Version History</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/install/" class="nav-list-link">Install and Configure</a><ul class="nav-list "><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/install/docker/" class="nav-list-link">Docker</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/install/rpm/" class="nav-list-link">RPM</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/install/deb/" class="nav-list-link">Debian Package</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/install/helm/" class="nav-list-link">Helm</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/install/tar/" class="nav-list-link">Tarball</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/install/windows/" class="nav-list-link">Windows</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/install/docker-security/" class="nav-list-link">Docker Security Configuration</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/install/plugins/" class="nav-list-link">Standalone Elasticsearch Plugin Install</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/install/ami/" class="nav-list-link">Amazon Machine Image</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/install/other-components/" class="nav-list-link">Other Components</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/install/encryption-at-rest/" class="nav-list-link">Encryption at Rest</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/upgrade/" class="nav-list-link">Upgrade</a><ul class="nav-list "><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/upgrade/1-0-0/" class="nav-list-link">Upgrade to 1.x.x</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/upgrade/1-11.0/" class="nav-list-link">Upgrade to 1.11.0</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/upgrade/1-10-1/" class="nav-list-link">Upgrade to 1.10.1</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/upgrade/1-8-0/" class="nav-list-link">Upgrade to 1.8.0</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/upgrade/rolling/" class="nav-list-link">Rolling Upgrade</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/upgrade/cluster-restart/" class="nav-list-link">Cluster Restart Upgrade</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/upgrade/docker/" class="nav-list-link">Docker Upgrade</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/elasticsearch/" class="nav-list-link">Elasticsearch</a><ul class="nav-list "><li class="nav-list-item active"><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/elasticsearch/configuration/" class="nav-list-link">Configuration</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/elasticsearch/cluster/" class="nav-list-link">Cluster Formation</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/elasticsearch/index-data/" class="nav-list-link">Index Data</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/elasticsearch/index-alias/" class="nav-list-link">Index Aliases</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/elasticsearch/index-templates/" class="nav-list-link">Index Templates</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/elasticsearch/reindex-data/" class="nav-list-link">Reindex Data</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/elasticsearch/catapis/" class="nav-list-link">CAT API</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/elasticsearch/term/" class="nav-list-link">Term-Level Queries</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/elasticsearch/full-text/" class="nav-list-link">Full-Text Queries</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/elasticsearch/search-template/" class="nav-list-link">Search Templates</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/elasticsearch/bool/" class="nav-list-link">Boolean Queries</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/elasticsearch/ux/" class="nav-list-link">Search Experience</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/elasticsearch/logs/" class="nav-list-link">Logs</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/elasticsearch/snapshot-restore/" class="nav-list-link">Take and Restore Snapshots</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/elasticsearch/units/" class="nav-list-link">Supported Units</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/elasticsearch/common-parameters/" class="nav-list-link">Common REST Parameters</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/elasticsearch/popular-api/" class="nav-list-link">Popular APIs</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/elasticsearch/rest-api-reference/" class="nav-list-link">REST API Reference</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/kibana/" class="nav-list-link">Kibana</a><ul class="nav-list "><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/kibana/plugins/" class="nav-list-link">Standalone Kibana Plugin Install</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/kibana/maptiles/" class="nav-list-link">WMS Map Server</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/" class="nav-list-link">Security</a><ul class="nav-list "><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/configuration/" class="nav-list-link">Configuration</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/configuration/concepts/" class="nav-list-link">Authentication flow</a> </li><li class="nav-list-item "> <a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/configuration/configuration/" class="nav-list-link">Backend Configuration</a> </li><li class="nav-list-item "> <a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/configuration/yaml/" class="nav-list-link">YAML Files</a> </li><li class="nav-list-item "> <a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/configuration/tls/" class="nav-list-link">TLS Certificates</a> </li><li class="nav-list-item "> <a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/configuration/generate-certificates/" class="nav-list-link">Generate Certificates</a> </li><li class="nav-list-item "> <a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/configuration/security-admin/" class="nav-list-link">Apply Changes with securityadmin.sh</a> </li><li class="nav-list-item active"> <a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/configuration/ldap/" class="nav-list-link active">Active Directory and LDAP</a> </li><li class="nav-list-item "> <a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/configuration/saml/" class="nav-list-link">SAML</a> </li><li class="nav-list-item "> <a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/configuration/openid-connect/" class="nav-list-link">OpenID Connect</a> </li><li class="nav-list-item "> <a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/configuration/proxy/" class="nav-list-link">Proxy-based authentication</a> </li><li class="nav-list-item "> <a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/configuration/disable/" class="nav-list-link">Disable Security</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/access-control/" class="nav-list-link">Access Control</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/access-control/users-roles/" class="nav-list-link">Users and Roles</a> </li><li class="nav-list-item "> <a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/access-control/document-level-security/" class="nav-list-link">Document-Level Security</a> </li><li class="nav-list-item "> <a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/access-control/field-level-security/" class="nav-list-link">Field-Level Security</a> </li><li class="nav-list-item "> <a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/access-control/field-masking/" class="nav-list-link">Field Masking</a> </li><li class="nav-list-item "> <a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/access-control/impersonation/" class="nav-list-link">User Impersonation</a> </li><li class="nav-list-item "> <a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/access-control/multi-tenancy/" class="nav-list-link">Kibana Multi-Tenancy</a> </li><li class="nav-list-item "> <a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/access-control/cross-cluster-search/" class="nav-list-link">Cross-Cluster Search</a> </li><li class="nav-list-item "> <a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/access-control/permissions/" class="nav-list-link">Permissions</a> </li><li class="nav-list-item "> <a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/access-control/default-action-groups/" class="nav-list-link">Default Action Groups</a> </li><li class="nav-list-item "> <a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/access-control/api/" class="nav-list-link">API</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/audit-logs/" class="nav-list-link">Audit Logs</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/audit-logs/field-reference/" class="nav-list-link">Audit Log Field Reference</a> </li><li class="nav-list-item "> <a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/audit-logs/storage-types/" class="nav-list-link">Audit Log Storage Types</a> </li></ul></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/alerting/" class="nav-list-link">Alerting</a><ul class="nav-list "><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/alerting/monitors/" class="nav-list-link">Monitors</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/alerting/settings/" class="nav-list-link">Management</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/alerting/api/" class="nav-list-link">API</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/alerting/security-roles/" class="nav-list-link">Security Roles</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/alerting/cron/" class="nav-list-link">Cron</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/sql/" class="nav-list-link">SQL</a><ul class="nav-list "><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/sql/workbench/" class="nav-list-link">Workbench</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/sql/cli/" class="nav-list-link">SQL CLI</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/sql/basic/" class="nav-list-link">Basic Queries</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/sql/complex/" class="nav-list-link">Complex Queries</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/sql/partiql/" class="nav-list-link">JSON Support</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/sql/sql-full-text/" class="nav-list-link">Full-Text Search</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/sql/metadata/" class="nav-list-link">Metadata Queries</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/sql/functions/" class="nav-list-link">Functions</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/sql/window/" class="nav-list-link">Window Functions</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/sql/delete/" class="nav-list-link">Delete</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/sql/endpoints/" class="nav-list-link">Endpoint</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/sql/protocol/" class="nav-list-link">Protocol</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/sql/monitoring/" class="nav-list-link">Monitoring</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/sql/settings/" class="nav-list-link">Settings</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/sql/troubleshoot/" class="nav-list-link">Troubleshooting</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/sql/limitation/" class="nav-list-link">Limitations</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/sql/jdbc/" class="nav-list-link">JDBC Driver</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/sql/odbc/" class="nav-list-link">ODBC Driver</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/ppl/" class="nav-list-link">PPL</a><ul class="nav-list "><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/ppl/endpoint/" class="nav-list-link">Endpoint</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/ppl/protocol/" class="nav-list-link">Protocol</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/ppl/settings/" class="nav-list-link">Settings</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/ppl/commands/" class="nav-list-link">Commands</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/ppl/functions/" class="nav-list-link">Functions</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/ism/" class="nav-list-link">Index State Management</a><ul class="nav-list "><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/ism/policies/" class="nav-list-link">Policies</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/ism/managedindices/" class="nav-list-link">Managed Indices</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/ism/settings/" class="nav-list-link">Settings</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/ism/api/" class="nav-list-link">ISM API</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/ism/refresh-analyzer/" class="nav-list-link">Refresh Search Analyzer</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/knn/" class="nav-list-link">KNN</a><ul class="nav-list "><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/knn/settings/" class="nav-list-link">Settings and Statistics</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/ad/" class="nav-list-link">Anomaly Detection</a><ul class="nav-list "><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/ad/api/" class="nav-list-link">Anomaly Detection API</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/ad/cli/" class="nav-list-link">Anomaly Detection CLI</a></li></ul></li><li class="nav-list-item"><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/notebooks/" class="nav-list-link">Notebooks</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/pa/" class="nav-list-link">Performance Analyzer</a><ul class="nav-list "><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/pa/api/" class="nav-list-link">API</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/pa/dashboards/" class="nav-list-link">Create Dashboards</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/pa/reference/" class="nav-list-link">Metrics Reference</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/rca/" class="nav-list-link">Root Cause Analysis</a><ul class="nav-list "><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/rca/api/" class="nav-list-link">API</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/rca/reference/" class="nav-list-link">RCA Reference</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/troubleshoot/" class="nav-list-link">Troubleshoot</a><ul class="nav-list "><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/troubleshoot/tls/" class="nav-list-link">Troubleshoot TLS</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/troubleshoot/saml/" class="nav-list-link">Troubleshoot SAML</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/troubleshoot/openid-connect/" class="nav-list-link">Troubleshoot OpenID Connect</a></li><li class="nav-list-item "><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/troubleshoot/security-admin/" class="nav-list-link">Troubleshoot securityadmin.sh</a></li></ul></li><li class="nav-list-item"><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/other/" class="nav-list-link">Other Resources</a></li></ul> </nav> <footer class="site-footer"> <p class="text-small text-grey-dk-100">See a problem? Submit <a href="https://github.com/opendistro/for-elasticsearch-docs/issues">issues</a> or <a href="https://github.com/opendistro/for-elasticsearch-docs/edit/master/docs/security/configuration/ldap.md">edit this page</a> on <a href="https://github.com/opendistro/for-elasticsearch-docs">GitHub</a>.</p> <p class="text-small text-grey-dk-100 mb-0">© 2020 Amazon Web Services, Inc. or its affiliates. All rights reserved.</p> </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search..." aria-label="Search Open Distro for Elasticsearch Documentation" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://opendistro.github.io/for-elasticsearch/" class="site-button" > Open Distro for Elasticsearch home </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/">Security</a></li> <li class="breadcrumb-nav-list-item"><a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/docs/security/configuration/">Configuration</a></li> <li class="breadcrumb-nav-list-item"><span>Active Directory and LDAP</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="active-directory-and-ldap">Active Directory and LDAP</h1> <p>Active Directory and LDAP can be used for both authentication and authorization (the <code class="highlighter-rouge">authc</code> and <code class="highlighter-rouge">authz</code> sections of the configuration, respectively). Authentication checks whether the user has entered valid credentials. Authorization retrieves any backend roles for the user.</p> <p>In most cases, you want to configure both authentication and authorization. You can also use authentication only and map the users retrieved from LDAP directly to security plugin roles.</p> <h2 id="docker-example">Docker example</h2> <p>We provide a fully functional example that can help you understand how to use an LDAP server for both authentication and authorization.</p> <ol> <li>Download and unzip <a href="https://opendistro.github.io/for-elasticsearch-docs/old/1.11.0/assets/examples/ldap-example.zip">the example ZIP file</a>.</li> <li>At the command line, run <code class="highlighter-rouge">docker-compose up</code>.</li> <li> <p>Review the files:</p> <ul> <li> <p><code class="highlighter-rouge">docker-compose.yml</code> defines a single ODFE node, an LDAP server, and a PHP administration tool for the LDAP server.</p> <p>You can access the administration tool at https://localhost:6443. Acknowledge the security warning and log in using <code class="highlighter-rouge">cn=admin,dc=example,dc=org</code> and <code class="highlighter-rouge">changethis</code>.</p> </li> <li> <p><code class="highlighter-rouge">directory.ldif</code> seeds the LDAP server with three users and two groups.</p> <p><code class="highlighter-rouge">psantos</code> is in the <code class="highlighter-rouge">Administrator</code> and <code class="highlighter-rouge">Developers</code> groups. <code class="highlighter-rouge">jroe</code> and <code class="highlighter-rouge">jdoe</code> are in the <code class="highlighter-rouge">Developers</code> group. The security plugin loads these groups as backend roles.</p> </li> <li> <p><code class="highlighter-rouge">roles_mapping.yml</code> maps the <code class="highlighter-rouge">Administrator</code> and <code class="highlighter-rouge">Developers</code> LDAP groups (as backend roles) to security roles so that users gain the appropriate permissions after authenticating.</p> </li> <li> <p><code class="highlighter-rouge">internal_users.yml</code> removes all default users except <code class="highlighter-rouge">administrator</code> and <code class="highlighter-rouge">kibanaserver</code>.</p> </li> <li> <p><code class="highlighter-rouge">config.yml</code> includes all necessary LDAP settings.</p> </li> </ul> </li> <li> <p>Index a document as <code class="highlighter-rouge">psantos</code>:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-XPUT</span> https://localhost:9200/new-index/_doc/1 <span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span> <span class="nt">-d</span> <span class="s1">'{"title": "Spirited Away"}'</span> <span class="nt">-u</span> psantos:password <span class="nt">-k</span>
</code></pre></div> </div> <p>If you try the same request as <code class="highlighter-rouge">jroe</code>, it fails. The <code class="highlighter-rouge">Developers</code> group is mapped to the <code class="highlighter-rouge">readall</code>, <code class="highlighter-rouge">manage_snapshots</code>, and <code class="highlighter-rouge">kibana_user</code> roles and has no write permissions.</p> </li> <li> <p>Search for the document as <code class="highlighter-rouge">jroe</code>:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-XGET</span> https://localhost:9200/new-index/_search?pretty <span class="nt">-u</span> jroe:password <span class="nt">-k</span>
</code></pre></div> </div> <p>This request succeeds, because the <code class="highlighter-rouge">Developers</code> group is mapped to the <code class="highlighter-rouge">readall</code> role.</p> </li> <li>If you want to examine the contents of the various containers, run <code class="highlighter-rouge">docker ps</code> to find the container ID and then <code class="highlighter-rouge">docker exec -it &lt;container-id&gt; /bin/bash</code>.</li> </ol> <h2 id="connection-settings">Connection settings</h2> <p>To enable LDAP authentication and authorization, add the following lines to <code class="highlighter-rouge">plugins/opendistro_security/securityconfig/config.yml</code>:</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">authc</span><span class="pi">:</span>
  <span class="na">ldap</span><span class="pi">:</span>
    <span class="na">http_enabled</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">transport_enabled</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">order</span><span class="pi">:</span> <span class="m">1</span>
    <span class="na">http_authenticator</span><span class="pi">:</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">basic</span>
      <span class="na">challenge</span><span class="pi">:</span> <span class="no">false</span>
    <span class="na">authentication_backend</span><span class="pi">:</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">ldap</span>
      <span class="na">config</span><span class="pi">:</span>
        <span class="s">...</span>
</code></pre></div></div> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">authz</span><span class="pi">:</span>
  <span class="na">ldap</span><span class="pi">:</span>
    <span class="na">http_enabled</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">transport_enabled</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">authorization_backend</span><span class="pi">:</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">ldap</span>
      <span class="na">config</span><span class="pi">:</span>
      <span class="s">...</span>
</code></pre></div></div> <p>The connection settings are identical for authentication and authorization and are added to the <code class="highlighter-rouge">config</code> sections.</p> <h3 id="hostname-and-port">Hostname and port</h3> <p>To configure the hostname and port of your Active Directory servers, use the following:</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">config</span><span class="pi">:</span>
  <span class="na">hosts</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">primary.ldap.example.com:389</span>
    <span class="pi">-</span> <span class="s">secondary.ldap.example.com:389</span>
</code></pre></div></div> <p>You can configure more than one server here. If the security plugin cannot connect to the first server, it tries to connect to the remaining servers sequentially.</p> <h3 id="timeouts">Timeouts</h3> <p>To configure connection and response timeouts to your Active Directory server, use the following (values are in milliseconds):</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">config</span><span class="pi">:</span>
  <span class="na">connect_timeout</span><span class="pi">:</span> <span class="m">5000</span>
  <span class="na">response_timeout</span><span class="pi">:</span> <span class="m">0</span>
</code></pre></div></div> <p>If your server supports two-factor authentication (2FA), the default timeout settings might result in login errors. You can increase <code class="highlighter-rouge">connect_timeout</code> to accommodate the 2FA process. Setting <code class="highlighter-rouge">response_timeout</code> to 0 (the default) indicates an indefinite waiting period.</p> <h3 id="bind-dn-and-password">Bind DN and password</h3> <p>To configure the <code class="highlighter-rouge">bind_dn</code> and <code class="highlighter-rouge">password</code> that the security plugin uses when issuing queries to your server, use the following:</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">config</span><span class="pi">:</span>
  <span class="na">bind_dn</span><span class="pi">:</span> <span class="s">cn=admin,dc=example,dc=com</span>
  <span class="na">password</span><span class="pi">:</span> <span class="s">password</span>
</code></pre></div></div> <p>If your server supports anonymous authentication, both <code class="highlighter-rouge">bind_dn</code> and <code class="highlighter-rouge">password</code> can be set to <code class="highlighter-rouge">null</code>.</p> <h3 id="tls-settings">TLS settings</h3> <p>Use the following parameters to configure TLS for connecting to your server:</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">config</span><span class="pi">:</span>
  <span class="na">enable_ssl</span><span class="pi">:</span> <span class="s">&lt;true|false&gt;</span>
  <span class="na">enable_start_tls</span><span class="pi">:</span> <span class="s">&lt;true|false&gt;</span>
  <span class="na">enable_ssl_client_auth</span><span class="pi">:</span> <span class="s">&lt;true|false&gt;</span>
  <span class="na">verify_hostnames</span><span class="pi">:</span> <span class="s">&lt;true|false&gt;</span>
</code></pre></div></div> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: left">Name</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><code class="highlighter-rouge">enable_ssl</code></td> <td style="text-align: left">Whether to use LDAP over SSL (LDAPS).</td> </tr> <tr> <td style="text-align: left"><code class="highlighter-rouge">enable_start_tls</code></td> <td style="text-align: left">Whether to use STARTTLS. Can’t be used in combination with LDAPS.</td> </tr> <tr> <td style="text-align: left"><code class="highlighter-rouge">enable_ssl_client_auth</code></td> <td style="text-align: left">Whether to send the client certificate to the LDAP server.</td> </tr> <tr> <td style="text-align: left"><code class="highlighter-rouge">verify_hostnames</code></td> <td style="text-align: left">Whether to verify the hostnames of the server’s TLS certificate.</td> </tr> </tbody> </table></div> <h3 id="certificate-validation">Certificate validation</h3> <p>By default, the security plugin validates the TLS certificate of the LDAP servers against the root CA configured in <code class="highlighter-rouge">elasticsearch.yml</code>, either as a PEM certificate or a truststore:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>opendistro_security.ssl.transport.pemtrustedcas_filepath: ...
opendistro_security.ssl.http.truststore_filepath: ...
</code></pre></div></div> <p>If your server uses a certificate signed by a different CA, import this CA into your truststore or add it to your trusted CA file on each node.</p> <p>You can also use a separate root CA in PEM format by setting one of the following configuration options:</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">config</span><span class="pi">:</span>
  <span class="na">pemtrustedcas_filepath</span><span class="pi">:</span> <span class="s">/full/path/to/trusted_cas.pem</span>
</code></pre></div></div> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">config</span><span class="pi">:</span>
  <span class="na">pemtrustedcas_content</span><span class="pi">:</span> <span class="pi">|-</span>
    <span class="s">MIID/jCCAuagAwIBAgIBATANBgkqhkiG9w0BAQUFADCBjzETMBEGCgmSJomT8ixk</span>
    <span class="s">ARkWA2NvbTEXMBUGCgmSJomT8ixkARkWB2V4YW1wbGUxGTAXBgNVBAoMEEV4YW1w</span>
    <span class="s">bGUgQ29tIEluYy4xITAfBgNVBAsMGEV4YW1wbGUgQ29tIEluYy4gUm9vdCBDQTEh</span>
    <span class="s">...</span>
</code></pre></div></div> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: left">Name</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><code class="highlighter-rouge">pemtrustedcas_filepath</code></td> <td style="text-align: left">Absolute path to the PEM file containing the root CAs of your Active Directory/LDAP server.</td> </tr> <tr> <td style="text-align: left"><code class="highlighter-rouge">pemtrustedcas_content</code></td> <td style="text-align: left">The root CA content of your Active Directory/LDAP server. Cannot be used when <code class="highlighter-rouge">pemtrustedcas_filepath</code> is set.</td> </tr> </tbody> </table></div> <h3 id="client-authentication">Client authentication</h3> <p>If you use TLS client authentication, the security plugin sends the PEM certificate of the node, as configured in <code class="highlighter-rouge">elasticsearch.yml</code>. Set one of the following configuration options:</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">config</span><span class="pi">:</span>
  <span class="na">pemkey_filepath</span><span class="pi">:</span> <span class="s">/full/path/to/private.key.pem</span>
  <span class="na">pemkey_password</span><span class="pi">:</span> <span class="s">private_key_password</span>
  <span class="na">pemcert_filepath</span><span class="pi">:</span> <span class="s">/full/path/to/certificate.pem</span>
</code></pre></div></div> <p>or</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">config</span><span class="pi">:</span>
  <span class="na">pemkey_content</span><span class="pi">:</span> <span class="pi">|-</span>
    <span class="s">MIID2jCCAsKgAwIBAgIBBTANBgkqhkiG9w0BAQUFADCBlTETMBEGCgmSJomT8ixk</span>
    <span class="s">ARkWA2NvbTEXMBUGCgmSJomT8ixkARkWB2V4YW1wbGUxGTAXBgNVBAoMEEV4YW1w</span>
    <span class="s">bGUgQ29tIEluYy4xJDAiBgNVBAsMG0V4YW1wbGUgQ29tIEluYy4gU2lnbmluZyBD</span>
    <span class="s">...</span>
  <span class="na">pemkey_password</span><span class="pi">:</span> <span class="s">private_key_password</span>
  <span class="na">pemcert_content</span><span class="pi">:</span> <span class="pi">|-</span>
    <span class="s">MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCHRZwzwGlP2FvL</span>
    <span class="s">oEzNeDu2XnOF+ram7rWPT6fxI+JJr3SDz1mSzixTeHq82P5A7RLdMULfQFMfQPfr</span>
    <span class="s">WXgB4qfisuDSt+CPocZRfUqqhGlMG2l8LgJMr58tn0AHvauvNTeiGlyXy0ShxHbD</span>
    <span class="s">...</span>
</code></pre></div></div> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: left">Name</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><code class="highlighter-rouge">pemkey_filepath</code></td> <td style="text-align: left">Absolute path to the file containing the private key of your certificate.</td> </tr> <tr> <td style="text-align: left"><code class="highlighter-rouge">pemkey_content</code></td> <td style="text-align: left">The content of the private key of your certificate. Cannot be used when <code class="highlighter-rouge">pemkey_filepath</code> is set.</td> </tr> <tr> <td style="text-align: left"><code class="highlighter-rouge">pemkey_password</code></td> <td style="text-align: left">The password of your private key, if any.</td> </tr> <tr> <td style="text-align: left"><code class="highlighter-rouge">pemcert_filepath</code></td> <td style="text-align: left">Absolute path to the client certificate.</td> </tr> <tr> <td style="text-align: left"><code class="highlighter-rouge">pemcert_content</code></td> <td style="text-align: left">The content of the client certificate. Cannot be used when <code class="highlighter-rouge">pemcert_filepath</code> is set.</td> </tr> </tbody> </table></div> <h3 id="enabled-ciphers-and-protocols">Enabled ciphers and protocols</h3> <p>You can limit the allowed ciphers and TLS protocols for the LDAP connection. For example, you can allow only strong ciphers and limit the TLS versions to the most recent ones:</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">ldap</span><span class="pi">:</span>
  <span class="na">http_enabled</span><span class="pi">:</span> <span class="no">true</span>
  <span class="na">transport_enabled</span><span class="pi">:</span> <span class="no">true</span>
  <span class="s">...</span>
  <span class="na">authentication_backend</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">ldap</span>
    <span class="na">config</span><span class="pi">:</span>
      <span class="na">enabled_ssl_ciphers</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">TLS_DHE_RSA_WITH_AES_256_CBC_SHA"</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">TLS_DHE_DSS_WITH_AES_128_CBC_SHA256"</span>
      <span class="na">enabled_ssl_protocols</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">TLSv1.1"</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">TLSv1.2"</span>
</code></pre></div></div> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: left">Name</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><code class="highlighter-rouge">enabled_ssl_ciphers</code></td> <td style="text-align: left">Array, enabled TLS ciphers. Only the Java format is supported.</td> </tr> <tr> <td style="text-align: left"><code class="highlighter-rouge">enabled_ssl_protocols</code></td> <td style="text-align: left">Array, enabled TLS protocols. Only the Java format is supported.</td> </tr> </tbody> </table></div> <hr /> <h2 id="use-active-directory-and-ldap-for-authentication">Use Active Directory and LDAP for authentication</h2> <p>To use Active Directory/LDAP for authentication, first configure a respective authentication domain in the <code class="highlighter-rouge">authc</code> section of <code class="highlighter-rouge">plugins/opendistro_security/securityconfig/config.yml</code>:</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">authc</span><span class="pi">:</span>
  <span class="na">ldap</span><span class="pi">:</span>
    <span class="na">http_enabled</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">transport_enabled</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">order</span><span class="pi">:</span> <span class="m">1</span>
    <span class="na">http_authenticator</span><span class="pi">:</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">basic</span>
      <span class="na">challenge</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">authentication_backend</span><span class="pi">:</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">ldap</span>
      <span class="na">config</span><span class="pi">:</span>
        <span class="s">...</span>
</code></pre></div></div> <p>Next, add the <a href="#connection-settings">connection settings</a> for your Active Directory/LDAP server to the config section of the authentication domain:</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">config</span><span class="pi">:</span>
  <span class="na">enable_ssl</span><span class="pi">:</span> <span class="no">true</span>
  <span class="na">enable_start_tls</span><span class="pi">:</span> <span class="no">false</span>
  <span class="na">enable_ssl_client_auth</span><span class="pi">:</span> <span class="no">false</span>
  <span class="na">verify_hostnames</span><span class="pi">:</span> <span class="no">true</span>
  <span class="na">hosts</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">ldap.example.com:8389</span>
  <span class="na">bind_dn</span><span class="pi">:</span> <span class="s">cn=admin,dc=example,dc=com</span>
  <span class="na">password</span><span class="pi">:</span> <span class="s">passw0rd</span>
</code></pre></div></div> <p>Authentication works by issuing an LDAP query containing the user name against the user subtree of the LDAP tree.</p> <p>The security plugin first takes the configured LDAP query and replaces the placeholder <code class="highlighter-rouge">{0}</code> with the user name from the user’s credentials.</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">usersearch</span><span class="pi">:</span> <span class="s1">'</span><span class="s">(sAMAccountName={0})'</span>
</code></pre></div></div> <p>Then it issues this query against the user subtree. Currently, the entire subtree under the configured <code class="highlighter-rouge">userbase</code> is searched:</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">userbase</span><span class="pi">:</span> <span class="s1">'</span><span class="s">ou=people,dc=example,dc=com'</span>
</code></pre></div></div> <p>If the query is successful, the security plugin retrieves the user name from the LDAP entry. You can specify which attribute from the LDAP entry the security plugin should use as the user name:</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">username_attribute</span><span class="pi">:</span> <span class="s">uid</span>
</code></pre></div></div> <p>If this key is not set or null, then the distinguished name (DN) of the LDAP entry is used.</p> <h3 id="configuration-summary">Configuration summary</h3> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: left">Name</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><code class="highlighter-rouge">userbase</code></td> <td style="text-align: left">Specifies the subtree in the directory where user information is stored.</td> </tr> <tr> <td style="text-align: left"><code class="highlighter-rouge">usersearch</code></td> <td style="text-align: left">The actual LDAP query that the security plugin executes when trying to authenticate a user. The variable {0} is substituted with the user name.</td> </tr> <tr> <td style="text-align: left"><code class="highlighter-rouge">username_attribute</code></td> <td style="text-align: left">The security plugin uses this attribute of the directory entry to look for the user name. If set to null, the DN is used (default).</td> </tr> </tbody> </table></div> <h3 id="complete-authentication-example">Complete authentication example</h3> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">ldap</span><span class="pi">:</span>
  <span class="na">http_enabled</span><span class="pi">:</span> <span class="no">true</span>
  <span class="na">transport_enabled</span><span class="pi">:</span> <span class="no">true</span>
  <span class="na">order</span><span class="pi">:</span> <span class="m">1</span>
  <span class="na">http_authenticator</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">basic</span>
    <span class="na">challenge</span><span class="pi">:</span> <span class="no">true</span>
  <span class="na">authentication_backend</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">ldap</span>
    <span class="na">config</span><span class="pi">:</span>
      <span class="na">enable_ssl</span><span class="pi">:</span> <span class="no">true</span>
      <span class="na">enable_start_tls</span><span class="pi">:</span> <span class="no">false</span>
      <span class="na">enable_ssl_client_auth</span><span class="pi">:</span> <span class="no">false</span>
      <span class="na">verify_hostnames</span><span class="pi">:</span> <span class="no">true</span>
      <span class="na">hosts</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s">ldap.example.com:636</span>
      <span class="na">bind_dn</span><span class="pi">:</span> <span class="s">cn=admin,dc=example,dc=com</span>
      <span class="na">password</span><span class="pi">:</span> <span class="s">password</span>
      <span class="na">userbase</span><span class="pi">:</span> <span class="s1">'</span><span class="s">ou=people,dc=example,dc=com'</span>
      <span class="na">usersearch</span><span class="pi">:</span> <span class="s1">'</span><span class="s">(sAMAccountName={0})'</span>
      <span class="na">username_attribute</span><span class="pi">:</span> <span class="s">uid</span>
</code></pre></div></div> <hr /> <h2 id="use-active-directory-and-ldap-for-authorization">Use Active Directory and LDAP for authorization</h2> <p>To use Active Directory/LDAP for authorization, first configure a respective authorization domain in the <code class="highlighter-rouge">authz</code> section of <code class="highlighter-rouge">config.yml</code>:</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">authz</span><span class="pi">:</span>
  <span class="na">ldap</span><span class="pi">:</span>
    <span class="na">http_enabled</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">transport_enabled</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">authorization_backend</span><span class="pi">:</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">ldap</span>
      <span class="na">config</span><span class="pi">:</span>
      <span class="s">...</span>
</code></pre></div></div> <p>Authorization is the process of retrieving backend roles for an authenticated user from an LDAP server. This is typically the same servers that you use for authentication, but you can also use a different server. The only requirement is that the user to fetch the roles for actually exists on the LDAP server.</p> <p>Because the security plugin always checks if a user exists in the LDAP server, you must also configure <code class="highlighter-rouge">userbase</code>, <code class="highlighter-rouge">usersearch</code> and <code class="highlighter-rouge">username_attribute</code> in the <code class="highlighter-rouge">authz</code> section.</p> <p>Authorization works similarly to authentication. The security plugin issues an LDAP query containing the user name against the role subtree of the LDAP tree.</p> <p>As an alternative, the security plugin can also fetch roles that are defined as a direct attribute of the user entry in the user subtree.</p> <h3 id="approach-1-query-the-role-subtree">Approach 1: Query the role subtree</h3> <p>The security plugin first takes the LDAP query for fetching roles (“rolesearch”) and substitutes any variables found in the query. For example, for a standard Active Directory installation, you would use the following role search:</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">rolesearch</span><span class="pi">:</span> <span class="s1">'</span><span class="s">(member={0})'</span>
</code></pre></div></div> <p>You can use the following variables:</p> <ul> <li><code class="highlighter-rouge">{0}</code> is substituted with the DN of the user.</li> <li><code class="highlighter-rouge">{1}</code> is substituted with the user name, as defined by the <code class="highlighter-rouge">username_attribute</code> setting.</li> <li><code class="highlighter-rouge">{2}</code> is substituted with an arbitrary attribute value from the authenticated user’s directory entry.</li> </ul> <p>The variable <code class="highlighter-rouge">{2}</code> refers to an attribute from the user’s directory entry. The attribute that you should use is specified by the <code class="highlighter-rouge">userroleattribute</code> setting:</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">userroleattribute</span><span class="pi">:</span> <span class="s">myattribute</span>
</code></pre></div></div> <p>The security plugin then issues the substituted query against the configured role subtree. The entire subtree under <code class="highlighter-rouge">rolebase</code> is searched:</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">rolebase</span><span class="pi">:</span> <span class="s1">'</span><span class="s">ou=groups,dc=example,dc=com'</span>
</code></pre></div></div> <p>If you use nested roles (roles that are members of other roles), you can configure the security plugin to resolve them:</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">resolve_nested_roles</span><span class="pi">:</span> <span class="no">false</span>
</code></pre></div></div> <p>After all roles have been fetched, the security plugin extracts the final role names from a configurable attribute of the role entries:</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">rolename</span><span class="pi">:</span> <span class="s">cn</span>
</code></pre></div></div> <p>If this is not set, the DN of the role entry is used. You can now use this role name for mapping it to one or more of the security plugin roles, as defined in <code class="highlighter-rouge">roles_mapping.yml</code>.</p> <h3 id="approach-2-use-a-users-attribute-as-the-role-name">Approach 2: Use a user’s attribute as the role name</h3> <p>If you store the roles as a direct attribute of the user entries in the user subtree, you need to configure only the attribute name:</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">userrolename</span><span class="pi">:</span> <span class="s">roles</span>
</code></pre></div></div> <p>You can configure multiple attribute names:</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">userrolename</span><span class="pi">:</span> <span class="s">roles, otherroles</span>
</code></pre></div></div> <p>This approach can be combined with querying the role subtree. The security plugin fetches the roles from the user’s role attribute and then executes the role search.</p> <p>If you don’t use or have a role subtree, you can disable the role search completely:</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">rolesearch_enabled</span><span class="pi">:</span> <span class="no">false</span>
</code></pre></div></div> <h3 id="advanced-control-ldap-user-attributes">(Advanced) Control LDAP user attributes</h3> <p>By default, the security plugin reads all LDAP user attributes and makes them available for index name variable substitution and DLS query variable substitution. If your LDAP entries have a lot of attributes, you might want to control which attributes should be made available. The fewer the attributes, the better the performance.</p> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: left">Name</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><code class="highlighter-rouge">custom_attr_whitelist</code></td> <td style="text-align: left">String array. Specifies the LDAP attributes that should be made available for variable substitution.</td> </tr> <tr> <td style="text-align: left"><code class="highlighter-rouge">custom_attr_maxval_len</code></td> <td style="text-align: left">Integer. Specifies the maximum allowed length of each attribute. All attributes longer than this value are discarded. A value of <code class="highlighter-rouge">0</code> disables custom attributes altogether. Default is 36.</td> </tr> </tbody> </table></div> <p>Example:</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">authz</span><span class="pi">:</span>
  <span class="na">ldap</span><span class="pi">:</span>  
    <span class="na">http_enabled</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">transport_enabled</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">authorization_backend</span><span class="pi">:</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">ldap</span>
      <span class="na">config</span><span class="pi">:</span>
        <span class="na">custom_attr_whitelist</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">attribute1</span>
          <span class="pi">-</span> <span class="s">attribute2</span>
        <span class="na">custom_attr_maxval_len</span><span class="pi">:</span> <span class="m">36</span>
      <span class="s">...</span>
</code></pre></div></div> <h3 id="advanced-exclude-certain-users-from-role-lookup">(Advanced) Exclude certain users from role lookup</h3> <p>If you are using multiple authentication methods, it can make sense to exclude certain users from the LDAP role lookup.</p> <p>Consider the following scenario for a typical Kibana setup: All Kibana users are stored in an LDAP/Active Directory server.</p> <p>However, you also have a Kibana server user. Kibana uses this user to manage stored objects and perform monitoring and maintenance tasks. You do not want to add this user to your Active Directory installation, but rather store it in the security plugin internal user database.</p> <p>In this case, it makes sense to exclude the Kibana server user from the LDAP authorization because we already know that there is no corresponding entry. You can use the <code class="highlighter-rouge">skip_users</code> configuration setting to define which users should be skipped. Wildcards and regular expressions are supported:</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">skip_users</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">kibanaserver</span>
  <span class="pi">-</span> <span class="s1">'</span><span class="s">cn=Jane</span><span class="nv"> </span><span class="s">Doe,ou*people,o=TEST'</span>
  <span class="pi">-</span> <span class="s1">'</span><span class="s">/\S*/'</span>
</code></pre></div></div> <h3 id="advanced-exclude-roles-from-nested-role-lookups">(Advanced) Exclude roles from nested role lookups</h3> <p>If the users in your LDAP installation have a large number of roles, and you have the requirement to resolve nested roles as well, you might run into performance issues.</p> <p>In most cases, however, not all user roles are related to Elasticsearch and Kibana. You might need only a couple of roles. In this case, you can use the nested role filter feature to define a list of roles that are filtered out from the list of the user’s roles. Wildcards and regular expressions are supported.</p> <p>This has an effect only if <code class="highlighter-rouge">resolve_nested_roles</code> is <code class="highlighter-rouge">true</code>:</p> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">nested_role_filter</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s1">'</span><span class="s">cn=Jane</span><span class="nv"> </span><span class="s">Doe,ou*people,o=TEST'</span>
  <span class="pi">-</span> <span class="s">...</span>
</code></pre></div></div> <h3 id="configuration-summary-1">Configuration summary</h3> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: left">Name</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><code class="highlighter-rouge">rolebase</code></td> <td style="text-align: left">Specifies the subtree in the directory where role/group information is stored.</td> </tr> <tr> <td style="text-align: left"><code class="highlighter-rouge">rolesearch</code></td> <td style="text-align: left">The actual LDAP query that the security plugin executes when trying to determine the roles of a user. You can use three variables here (see below).</td> </tr> <tr> <td style="text-align: left"><code class="highlighter-rouge">userroleattribute</code></td> <td style="text-align: left">The attribute in a user entry to use for <code class="highlighter-rouge">{2}</code> variable substitution.</td> </tr> <tr> <td style="text-align: left"><code class="highlighter-rouge">userrolename</code></td> <td style="text-align: left">If the roles/groups of a user are not stored in the groups subtree, but as an attribute of the user’s directory entry, define this attribute name here.</td> </tr> <tr> <td style="text-align: left"><code class="highlighter-rouge">rolename</code></td> <td style="text-align: left">The attribute of the role entry that should be used as the role name.</td> </tr> <tr> <td style="text-align: left"><code class="highlighter-rouge">resolve_nested_roles</code></td> <td style="text-align: left">Boolean. Whether or not to resolve nested roles. Default is <code class="highlighter-rouge">false</code>.</td> </tr> <tr> <td style="text-align: left"><code class="highlighter-rouge">skip_users</code></td> <td style="text-align: left">Array of users that should be skipped when retrieving roles. Wildcards and regular expressions are supported.</td> </tr> <tr> <td style="text-align: left"><code class="highlighter-rouge">nested_role_filter</code></td> <td style="text-align: left">Array of role DNs that should be filtered before resolving nested roles. Wildcards and regular expressions are supported.</td> </tr> <tr> <td style="text-align: left"><code class="highlighter-rouge">rolesearch_enabled</code></td> <td style="text-align: left">Boolean. Enable or disable the role search. Default is <code class="highlighter-rouge">true</code>.</td> </tr> <tr> <td style="text-align: left"><code class="highlighter-rouge">custom_attr_whitelist</code></td> <td style="text-align: left">String array. Specifies the LDAP attributes that should be made available for variable substitution.</td> </tr> <tr> <td style="text-align: left"><code class="highlighter-rouge">custom_attr_maxval_len</code></td> <td style="text-align: left">Integer. Specifies the maximum allowed length of each attribute. All attributes longer than this value are discarded. A value of <code class="highlighter-rouge">0</code> disables custom attributes altogether. Default is 36.</td> </tr> </tbody> </table></div> <h3 id="complete-authorization-example">Complete authorization example</h3> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">authz</span><span class="pi">:</span>
  <span class="na">ldap</span><span class="pi">:</span>
    <span class="na">http_enabled</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">transport_enabled</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">authorization_backend</span><span class="pi">:</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">ldap</span>
      <span class="na">config</span><span class="pi">:</span>
        <span class="na">enable_ssl</span><span class="pi">:</span> <span class="no">true</span>
        <span class="na">enable_start_tls</span><span class="pi">:</span> <span class="no">false</span>
        <span class="na">enable_ssl_client_auth</span><span class="pi">:</span> <span class="no">false</span>
        <span class="na">verify_hostnames</span><span class="pi">:</span> <span class="no">true</span>
        <span class="na">hosts</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">ldap.example.com:636</span>
        <span class="na">bind_dn</span><span class="pi">:</span> <span class="s">cn=admin,dc=example,dc=com</span>
        <span class="na">password</span><span class="pi">:</span> <span class="s">password</span>
        <span class="na">userbase</span><span class="pi">:</span> <span class="s1">'</span><span class="s">ou=people,dc=example,dc=com'</span>
        <span class="na">usersearch</span><span class="pi">:</span> <span class="s1">'</span><span class="s">(uid={0})'</span>
        <span class="na">username_attribute</span><span class="pi">:</span> <span class="s">uid</span>
        <span class="na">rolebase</span><span class="pi">:</span> <span class="s1">'</span><span class="s">ou=groups,dc=example,dc=com'</span>
        <span class="na">rolesearch</span><span class="pi">:</span> <span class="s1">'</span><span class="s">(member={0})'</span>
        <span class="na">userroleattribute</span><span class="pi">:</span> <span class="no">null</span>
        <span class="na">userrolename</span><span class="pi">:</span> <span class="s">none</span>
        <span class="na">rolename</span><span class="pi">:</span> <span class="s">cn</span>
        <span class="na">resolve_nested_roles</span><span class="pi">:</span> <span class="no">true</span>
        <span class="na">skip_users</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">kibanaserver</span>
          <span class="pi">-</span> <span class="s1">'</span><span class="s">cn=Jane</span><span class="nv"> </span><span class="s">Doe,ou*people,o=TEST'</span>
          <span class="pi">-</span> <span class="s1">'</span><span class="s">/\S*/'</span>
</code></pre></div></div> </div> </div> <div class="toc"> <ul class="toc-list"> <li class="toc-item"><a href="#docker-example">Docker example</a></li> <li class="toc-item"><a href="#connection-settings">Connection settings</a></li> <li class="toc-item"><a href="#use-active-directory-and-ldap-for-authentication">Use Active Directory and LDAP for authentication</a></li> <li class="toc-item"><a href="#use-active-directory-and-ldap-for-authorization">Use Active Directory and LDAP for authorization</a></li> </ul> </div> <div class="search-overlay"></div> </div> <script> anchors.add(); </script> </body> </html>
