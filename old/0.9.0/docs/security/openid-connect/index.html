<!DOCTYPE html>

<html lang="en-us">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  

  <title>OpenID Connect - Open Distro for Elasticsearch Documentation</title>
  <link rel="stylesheet" href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/assets/css/just-the-docs.css">
  <link rel="shortcut icon" href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/assets/images/favicon.ico">

  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-135423944-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-135423944-1');
    </script>
  

  
    <script type="text/javascript" src="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/assets/js/search-data.js"></script>
    <script src="https://unpkg.com/lunr/lunr.js"></script>
  

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.min.js"></script>
  

  <!-- SiteCatalyst code version: H.25.1. Copyright 1996-2012 Adobe, Inc. All Rights Reserved -->
  <script><!--
  /************* DO NOT ALTER ANYTHING BELOW THIS LINE ! **************/
  var s_code=s.t();if(s_code)document.write(s_code)//--></script>
  <script language="JavaScript" type="text/javascript"><!--
  if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
  //--></script>
  <noscript>
  <img src="//amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazonalldev2/1/H.25.1--NS/0" height="1" width="1" border="0" alt="" />
  </noscript>
  <!--/DO NOT REMOVE/-->
  <!-- End SiteCatalyst code version: H.25.1. -->

  <script type="text/javascript" src="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>

  <div class="page-wrap">
    <div class="side-bar">
      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/" class="site-title"><img src="/for-elasticsearch-docs/old/0.9.0/assets/images/logo.svg"></a>
      <span class="fs-3"><button class="js-main-nav-trigger navigation-list-toggle btn btn-outline" type="button" data-text-toggle="Hide">Menu</button></span>
      <div class="navigation main-nav js-main-nav">
        <nav role="navigation" aria-label="Main navigation">
  <ul class="navigation-list">
    
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/" class="navigation-list-link">About</a>
            
          </li>
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/install/" class="navigation-list-link">Install and Configure</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/install/docker/" class="navigation-list-link">Docker</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/install/rpm/" class="navigation-list-link">RPM</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/install/deb/" class="navigation-list-link">Debian Package</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/install/docker-security/" class="navigation-list-link">Docker Security Configuration</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/install/plugins/" class="navigation-list-link">Standalone Elasticsearch Plugin Install</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/install/other-components/" class="navigation-list-link">Other Components</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/install/encryption-at-rest/" class="navigation-list-link">Encryption at Rest</a>
                      
                    </li>
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/elasticsearch/" class="navigation-list-link">Elasticsearch</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/elasticsearch/configuration/" class="navigation-list-link">Configuration</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/elasticsearch/index-data/" class="navigation-list-link">Index Data</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/elasticsearch/full-text/" class="navigation-list-link">Full-Text Queries</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/elasticsearch/snapshot-restore/" class="navigation-list-link">Take and Restore Snapshots</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/kibana/" class="navigation-list-link">Kibana</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/kibana/plugins/" class="navigation-list-link">Standalone Kibana Plugin Install</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/kibana/maptiles/" class="navigation-list-link">WMS Map Server</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item active">
            
            <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/security/" class="navigation-list-link">Security</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/security/concepts/" class="navigation-list-link">Basics</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/security/configuration/" class="navigation-list-link">Backend Configuration</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/security/security-admin/" class="navigation-list-link">Apply Configuration Changes</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/security/tls-configuration/" class="navigation-list-link">TLS Certificates</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/security/generate-certificates/" class="navigation-list-link">Generate Certificates</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/security/ldap/" class="navigation-list-link">Active Directory and LDAP</a>
                      
                    </li>
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/security/saml/" class="navigation-list-link">SAML</a>
                      
                    </li>
                  
                
                  
                    <li class="navigation-list-item  active">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/security/openid-connect/" class="navigation-list-link active">OpenID Connect</a>
                      
                    </li>
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/security/default-action-groups/" class="navigation-list-link">Default Action Groups</a>
                      
                    </li>
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/security/permissions/" class="navigation-list-link">Permissions</a>
                      
                    </li>
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/security/document-level-security/" class="navigation-list-link">Document-Level Security</a>
                      
                    </li>
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/security/cross-cluster-search/" class="navigation-list-link">Cross-Cluster Search</a>
                      
                    </li>
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/security/audit-logs/" class="navigation-list-link">Audit Logs</a>
                      
                    </li>
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/security/audit-log-storage-types/" class="navigation-list-link">Audit Log Storage Types</a>
                      
                    </li>
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/security/audit-logs-field-reference/" class="navigation-list-link">Audit Log Field Reference</a>
                      
                    </li>
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/security/api/" class="navigation-list-link">API</a>
                      
                    </li>
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/security/disable/" class="navigation-list-link">Disable Security</a>
                      
                    </li>
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/alerting/" class="navigation-list-link">Alerting</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/alerting/monitors/" class="navigation-list-link">Monitors</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/alerting/settings/" class="navigation-list-link">Management</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/alerting/api/" class="navigation-list-link">API</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/alerting/security-roles/" class="navigation-list-link">Security Roles</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/alerting/cron/" class="navigation-list-link">Cron</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/sql/" class="navigation-list-link">SQL</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/sql/operations/" class="navigation-list-link">Supported Operations</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/sql/jdbc/" class="navigation-list-link">JDBC Driver</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/sql/joins/" class="navigation-list-link">Joins</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/pa/" class="navigation-list-link">Performance Analyzer</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/pa/api/" class="navigation-list-link">API</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/pa/dashboards/" class="navigation-list-link">Create Dashboards</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/pa/reference/" class="navigation-list-link">Metrics Reference</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/troubleshoot/" class="navigation-list-link">Troubleshoot</a>
            
          </li>
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
  </ul>
</nav>

      </div>
      <footer role="contentinfo" class="site-footer">
        <p class="text-small text-grey-dk-100">See a problem? Submit <a href="https://github.com/opendistro/for-elasticsearch-docs/issues">issues</a> or <a href="https://github.com/opendistro/for-elasticsearch-docs/pulls">pull requests</a> on <a href="https://github.com/opendistro/for-elasticsearch-docs">GitHub</a>.</p>
        <p class="text-small text-grey-dk-100 mb-0">© 2020 Amazon Web Services, Inc. or its affiliates. All rights reserved.</p>
      </footer>
    </div>
    <div class="main-content-wrap js-main-content" tabindex="0">
      <div class="page-header">
        <div class="main-content">
          
          <div class="search js-search">
            <div class="search-input-wrap">
              <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search..." aria-label="Search" autocomplete="off">
              <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg>
            </div>
            <div class="js-search-results search-results-wrap"></div>
          </div>
          
          
            <ul class="list-style-none text-small mt-md-1 mb-md-1 pb-4 pb-md-0 js-aux-nav aux-nav">
              
                <li class="d-inline-block my-0"><a href="https://opendistro.github.io/for-elasticsearch/">Back to the Open Distro for Elasticsearch home page</a></li>
              
            </ul>
          
        </div>
      </div>
      <div class="main-content">
        
          
            <nav class="breadcrumb-nav">
              <ol class="breadcrumb-nav-list">
                
                  <li class="breadcrumb-nav-list-item"><a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/security/">Security</a></li>
                
                <li class="breadcrumb-nav-list-item"><span>OpenID Connect</span></li>
              </ol>
            </nav>
          
        
        <div id="main-content" class="page-content" role="main">
          <h1 id="openid-connect">OpenID Connect</h1>

<p>The Security plugin can integrate with identify providers that use the OpenID Connect standard. This feature enables:</p>

<ul>
  <li>
    <p>Automatic configuration</p>

    <p>Point the Security plugin to the metadata of your identity provider (IdP), and the Security plugin uses that data for configuration.</p>
  </li>
  <li>
    <p>Automatic key fetching</p>

    <p>The Security plugin automatically retrieves the public key for validating the JSON web tokens (JWTs) from the JSON web key set (JWKS) endpoint of your IdP. You don’t have to configure keys or shared secrets in <code class="highlighter-rouge">config.yml</code>.</p>
  </li>
  <li>
    <p>Key rollover</p>

    <p>You can change the keys used for signing the JWTs directly in your IdP. If the Security plugin detects an unknown key, it tries to retrieve it from the IdP, transparent to the user.</p>
  </li>
  <li>
    <p>Kibana single sign-on</p>
  </li>
</ul>

<hr />

<h4 id="table-of-contents">Table of contents</h4>
<ol id="markdown-toc">
  <li><a href="#configure-openid-connect-integration" id="markdown-toc-configure-openid-connect-integration">Configure OpenID Connect integration</a></li>
  <li><a href="#openid-connect-url" id="markdown-toc-openid-connect-url">OpenID Connect URL</a></li>
  <li><a href="#fetching-public-keys" id="markdown-toc-fetching-public-keys">Fetching public keys</a></li>
  <li><a href="#key-rollover-and-multiple-public-keys" id="markdown-toc-key-rollover-and-multiple-public-keys">Key rollover and multiple public keys</a></li>
  <li><a href="#tls-settings" id="markdown-toc-tls-settings">TLS settings</a>    <ol>
      <li><a href="#enabling-tls" id="markdown-toc-enabling-tls">Enabling TLS</a></li>
      <li><a href="#certificate-validation" id="markdown-toc-certificate-validation">Certificate validation</a></li>
      <li><a href="#tls-client-authentication" id="markdown-toc-tls-client-authentication">TLS client authentication</a></li>
      <li><a href="#enabled-ciphers-and-protocols" id="markdown-toc-enabled-ciphers-and-protocols">Enabled ciphers and protocols</a></li>
    </ol>
  </li>
  <li><a href="#advanced-dos-protection" id="markdown-toc-advanced-dos-protection">(Advanced) DoS protection</a></li>
  <li><a href="#kibana-single-sign-on" id="markdown-toc-kibana-single-sign-on">Kibana single sign-on</a>    <ol>
      <li><a href="#configuration" id="markdown-toc-configuration">Configuration</a></li>
      <li><a href="#configuration-parameters" id="markdown-toc-configuration-parameters">Configuration parameters</a></li>
      <li><a href="#configuration-example" id="markdown-toc-configuration-example">Configuration example</a></li>
      <li><a href="#elasticsearch-configuration" id="markdown-toc-elasticsearch-configuration">Elasticsearch configuration</a></li>
    </ol>
  </li>
</ol>

<hr />

<h2 id="configure-openid-connect-integration">Configure OpenID Connect integration</h2>

<p>To integrate with an OpenID IdP, set up an authentication domain and choose <code class="highlighter-rouge">openid</code> as HTTP authentication type. JSON web tokens already contain all required information to verify the request, so set <code class="highlighter-rouge">challenge</code> to <code class="highlighter-rouge">false</code> and <code class="highlighter-rouge">authentication_backend</code> to <code class="highlighter-rouge">noop</code>.</p>

<p>Minimal configuration:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">openid_auth_domain</span><span class="pi">:</span>
  <span class="na">http_enabled</span><span class="pi">:</span> <span class="no">true</span>
  <span class="na">transport_enabled</span><span class="pi">:</span> <span class="no">true</span>
  <span class="na">order</span><span class="pi">:</span> <span class="m">0</span>
  <span class="na">http_authenticator</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">openid</span>
    <span class="na">challenge</span><span class="pi">:</span> <span class="no">false</span>
    <span class="na">config</span><span class="pi">:</span>
      <span class="na">subject_key</span><span class="pi">:</span> <span class="s">preferred_username</span>
      <span class="na">roles_key</span><span class="pi">:</span> <span class="s">roles</span>
      <span class="na">openid_connect_url</span><span class="pi">:</span> <span class="s">https://keycloak.example.com:8080/auth/realms/master/.well-known/openid-configuration</span>
  <span class="na">authentication_backend</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">noop</span>
</code></pre></div></div>

<p>Configuration parameters:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Name</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">openid_connect_url</td>
      <td style="text-align: left">The URL of your IdP where the Security plugin can find the OpenID Connect metadata/configuration settings. This URL differs between IdPs. Required.</td>
    </tr>
    <tr>
      <td style="text-align: left">jwt_header</td>
      <td style="text-align: left">The HTTP header that stores the token. Typically the <code class="highlighter-rouge">Authorization</code> header with the <code class="highlighter-rouge">Bearer</code> schema: <code class="highlighter-rouge">Authorization: Bearer &lt;token&gt;</code>. Optional. Default is <code class="highlighter-rouge">Authorization</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left">jwt_url_parameter</td>
      <td style="text-align: left">If the token is not transmitted in the HTTP header, but as an URL parameter, define the name of the parameter here. Optional.</td>
    </tr>
    <tr>
      <td style="text-align: left">subject_key</td>
      <td style="text-align: left">The key in the JSON payload that stores the user’s name. If not defined, the <a href="https://tools.ietf.org/html/rfc7519#section-4.1.2">subject</a> registered claim is used. Most IdP providers use the <code class="highlighter-rouge">preferred_username</code> claim. Optional.</td>
    </tr>
    <tr>
      <td style="text-align: left">roles_key</td>
      <td style="text-align: left">The key in the JSON payload that stores the user’s roles. The value of this key must be a comma-separated list of roles. Required only if you want to use roles in the JWT.</td>
    </tr>
  </tbody>
</table>

<h2 id="openid-connect-url">OpenID Connect URL</h2>

<p>OpenID Connect specifies various endpoints for integration purposes. The most important endpoint is <code class="highlighter-rouge">well-known</code>, which lists endpoints and other configuration options for the Security plugin.</p>

<p>The URL differs between IdPs, but usually ends in <code class="highlighter-rouge">/.well-known/openid-configuration</code>.</p>

<p>Keycloak example:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http(s)://&lt;server&gt;:&lt;port&gt;/auth/realms/&lt;realm&gt;/.well-known/openid-configuration
</code></pre></div></div>

<p>The main information that the Security plugin needs is <code class="highlighter-rouge">jwks_uri</code>. This URI specifies where the IdP’s public key(s) in JWKS format can be found. For example:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jwks_uri: "https://keycloak.example.com:8080/auth/realms/master/protocol/openid-connect/certs"
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{  
   keys:[  
      {  
         kid:"V-diposfUJIk5jDBFi_QRouiVinG5PowskcSWy5EuCo",
         kty:"RSA",
         alg:"RS256",
         use:"sig",
         n:"rI8aUrAcI_auAdF10KUopDOmEFa4qlUUaNoTER90XXWADtKne6VsYoD3ZnHGFXvPkRAQLM5d65ScBzWungcbLwZGWtWf5T2NzQj0wDyquMRwwIAsFDFtAZWkXRfXeXrFY0irYUS9rIJDafyMRvBbSz1FwWG7RTQkILkwiC4B8W1KdS5d9EZ8JPhrXvPMvW509g0GhLlkBSbPBeRSUlAS2Kk6nY5i3m6fi1H9CP3Y_X-TzOjOTsxQA_1pdP5uubXPUh5YfJihXcgewO9XXiqGDuQn6wZ3hrF6HTlhNWGcSyQPKh1gEcmXWQlRENZMvYET-BuJEE7eKyM5vRhjNoYR3w",
         e:"AQAB"
      }
   ]
}
</code></pre></div></div>

<p>To find more information about IdP endpoints:</p>

<ul>
  <li><a href="https://developer.okta.com/docs/api/resources/oidc#well-knownopenid-configuration">Okta</a></li>
  <li><a href="https://www.keycloak.org/docs/3.0/securing_apps/topics/oidc/oidc-generic.html">Keycloak</a></li>
  <li><a href="https://auth0.com/docs/protocols/oidc/openid-connect-discovery">Auth0</a></li>
  <li><a href="https://connect2id.com/products/server/docs/api/discovery">Connect2ID</a></li>
  <li><a href="https://help.salesforce.com/articleView?id=remoteaccess_using_openid_discovery_endpoint.htm&amp;type=5">Salesforce</a></li>
  <li><a href="https://www.ibm.com/support/knowledgecenter/en/SSEQTP_8.5.5/com.ibm.websphere.wlp.doc/ae/rwlp_oidc_endpoint_urls.html">IBM OpenID Connect</a></li>
</ul>

<h2 id="fetching-public-keys">Fetching public keys</h2>

<p>When an IdP generates and signs a JSON web token, it must add the ID of the key to the JWT header. For example:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "alg": "RS256",
  "typ": "JWT",
  "kid": "V-diposfUJIk5jDBFi_QRouiVinG5PowskcSWy5EuCo"
}
</code></pre></div></div>

<p>As per the <a href="http://openid.net/specs/openid-connect-messages-1_0-20.html">OpenID Connect specification</a>, the <code class="highlighter-rouge">kid</code> (key ID) is mandatory. Token verification does not work if an IdP fails to add the <code class="highlighter-rouge">kid</code> field to the JWT.</p>

<p>If the Security plugin receives a JWT with an unknown <code class="highlighter-rouge">kid</code>, it visits the IdP’s <code class="highlighter-rouge">jwks_uri</code> and retrieves all available, valid keys. These keys are used and cached until a refresh is triggered by retrieving another unknown key ID.</p>

<h2 id="key-rollover-and-multiple-public-keys">Key rollover and multiple public keys</h2>

<p>The Security plugin can maintain multiple valid public keys at once. The OpenID specification does not allow for a validity period of public keys, so a key is valid until it has been removed from the list of valid keys in your IdP and the list of valid keys has been refreshed.</p>

<p>If you want to roll over a key in your IdP, best practice is to:</p>

<ul>
  <li>
    <p>Create a new key pair in your IdP, and give the new key a higher priority than the currently used key.</p>

    <p>Your IdP uses this new key over the old key.</p>
  </li>
  <li>
    <p>Upon first appearance of the new <code class="highlighter-rouge">kid</code> in a JWT, the Security plugin refreshes the key list.</p>

    <p>At this point, both the old key and the new key are valid. Tokens signed with the old key are also still valid.</p>
  </li>
  <li>
    <p>The old key can be removed from your IdP when the last JWT signed with this key has timed out.</p>
  </li>
</ul>

<p>If you have to immediately change your public key, you can also delete the old key first and then create a new one. In this case, all JWTs signed with the old key become invalid immediately.</p>

<h2 id="tls-settings">TLS settings</h2>

<p>In order to prevent man-in-the-middle attacks, you should secure the connection between the Security plugin and your IdP with TLS.</p>

<h3 id="enabling-tls">Enabling TLS</h3>

<p>Use the following parameters to enable TLS for connecting to your IdP:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">config</span><span class="pi">:</span>
  <span class="na">enable_ssl</span><span class="pi">:</span> <span class="s">&lt;true|false&gt;</span>
  <span class="na">verify_hostnames</span><span class="pi">:</span> <span class="s">&lt;true|false&gt;</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Name</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">enable_ssl</td>
      <td style="text-align: left">Whether to use TSL. Default is false.</td>
    </tr>
    <tr>
      <td style="text-align: left">verify_hostnames</td>
      <td style="text-align: left">Whether to verify the hostnames of the IdP’s TLS certificate. Default is true.</td>
    </tr>
  </tbody>
</table>

<h3 id="certificate-validation">Certificate validation</h3>

<p>To validate the TLS certificate of your IdP, configure either the path to the IdP’s root CA or the root certificates content:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">config</span><span class="pi">:</span>
  <span class="na">pemtrustedcas_filepath</span><span class="pi">:</span> <span class="s">/path/to/trusted_cas.pem</span>
</code></pre></div></div>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">config</span><span class="pi">:</span>
  <span class="na">pemtrustedcas_content</span><span class="pi">:</span> <span class="pi">|-</span>
    <span class="s">MIID/jCCAuagAwIBAgIBATANBgkqhkiG9w0BAQUFADCBjzETMBEGCgmSJomT8ixk</span>
    <span class="s">ARkWA2NvbTEXMBUGCgmSJomT8ixkARkWB2V4YW1wbGUxGTAXBgNVBAoMEEV4YW1w</span>
    <span class="s">bGUgQ29tIEluYy4xITAfBgNVBAsMGEV4YW1wbGUgQ29tIEluYy4gUm9vdCBDQTEh</span>
    <span class="s">...</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Name</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">pemtrustedcas_filepath</td>
      <td style="text-align: left">Absolute path to the PEM file containing the root CA(s) of your IdP.</td>
    </tr>
    <tr>
      <td style="text-align: left">pemtrustedcas_content</td>
      <td style="text-align: left">The root CA content of your IdP. Cannot be used if <code class="highlighter-rouge">pemtrustedcas_filepath</code> is set.</td>
    </tr>
  </tbody>
</table>

<h3 id="tls-client-authentication">TLS client authentication</h3>

<p>To use TLS client authentication, configure the PEM certificate and private key the Security plugin should send for TLS client authentication (or its content):</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">config</span><span class="pi">:</span>
  <span class="na">pemkey_filepath</span><span class="pi">:</span> <span class="s">/path/to/private.key.pem</span>
  <span class="na">pemkey_password</span><span class="pi">:</span> <span class="s">private_key_password</span>
  <span class="na">pemcert_filepath</span><span class="pi">:</span> <span class="s">/path/to/certificate.pem</span>
</code></pre></div></div>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">config</span><span class="pi">:</span>
  <span class="na">pemkey_content</span><span class="pi">:</span> <span class="pi">|-</span>
    <span class="s">MIID2jCCAsKgAwIBAgIBBTANBgkqhkiG9w0BAQUFADCBlTETMBEGCgmSJomT8ixk</span>
    <span class="s">ARkWA2NvbTEXMBUGCgmSJomT8ixkARkWB2V4YW1wbGUxGTAXBgNVBAoMEEV4YW1w</span>
    <span class="s">bGUgQ29tIEluYy4xJDAiBgNVBAsMG0V4YW1wbGUgQ29tIEluYy4gU2lnbmluZyBD</span>
    <span class="s">...</span>
  <span class="na">pemkey_password</span><span class="pi">:</span> <span class="s">private_key_password</span>
  <span class="na">pemcert_content</span><span class="pi">:</span> <span class="pi">|-</span>
    <span class="s">MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCHRZwzwGlP2FvL</span>
    <span class="s">oEzNeDu2XnOF+ram7rWPT6fxI+JJr3SDz1mSzixTeHq82P5A7RLdMULfQFMfQPfr</span>
    <span class="s">WXgB4qfisuDSt+CPocZRfUqqhGlMG2l8LgJMr58tn0AHvauvNTeiGlyXy0ShxHbD</span>
    <span class="s">...</span>
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Name</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">enable_ssl_client_auth</td>
      <td style="text-align: left">Whether to send the client certificate to the IdP server. Default is false.</td>
    </tr>
    <tr>
      <td style="text-align: left">pemcert_filepath</td>
      <td style="text-align: left">Absolute path to the the client certificate.</td>
    </tr>
    <tr>
      <td style="text-align: left">pemcert_content</td>
      <td style="text-align: left">The content of the client certificate. Cannot be used when <code class="highlighter-rouge">pemcert_filepath</code> is set.</td>
    </tr>
    <tr>
      <td style="text-align: left">pemkey_filepath</td>
      <td style="text-align: left">Absolute path to the file containing the private key of the client certificate.</td>
    </tr>
    <tr>
      <td style="text-align: left">pemkey_content</td>
      <td style="text-align: left">The content of the private key of your client certificate. Cannot be used when <code class="highlighter-rouge">pemkey_filepath</code> is set.</td>
    </tr>
    <tr>
      <td style="text-align: left">pemkey_password</td>
      <td style="text-align: left">The password of your private key, if any.</td>
    </tr>
  </tbody>
</table>

<h3 id="enabled-ciphers-and-protocols">Enabled ciphers and protocols</h3>

<p>You can limit the allowed ciphers and TLS protocols by using the following keys:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Name</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">enabled_ssl_ciphers</td>
      <td style="text-align: left">Array. Enabled TLS cipher suites. Only Java format is supported.</td>
    </tr>
    <tr>
      <td style="text-align: left">enabled_ssl_protocols</td>
      <td style="text-align: left">Array. Enabled TLS protocols. Only Java format is supported.</td>
    </tr>
  </tbody>
</table>

<h2 id="advanced-dos-protection">(Advanced) DoS protection</h2>

<p>To help protect against denial-of-service (DoS) attacks, the Security plugin only allows a maximum number of new key IDs in a certain span of time. If the number of new key IDs exceeds this threshold, the Security plugin returns HTTP status code 503 (Service Unavailable) and refuses to query the IdP. By default, the Security plugin does not allow for more than 10 unknown key IDs within 10 seconds. To modify these settings:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Name</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">refresh_rate_limit_count</td>
      <td style="text-align: left">The maximum number of unknown key IDs in the time frame. Default is 10.</td>
    </tr>
    <tr>
      <td style="text-align: left">refresh_rate_limit_time_window_ms</td>
      <td style="text-align: left">The time frame to use when checking the maximum number of unknown key IDs, in milliseconds. Default is 10000 (10 seconds).</td>
    </tr>
  </tbody>
</table>

<h2 id="kibana-single-sign-on">Kibana single sign-on</h2>

<p>Activate OpenID Connect by adding the following to <code class="highlighter-rouge">kibana.yml</code>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>opendistro_security.auth.type: "openid"
</code></pre></div></div>

<h3 id="configuration">Configuration</h3>

<p>OpenID Connect providers usually publish their configuration in JSON format under the <em>metadata url</em>. Therefore most settings can be pulled in automatically, so the Kibana configuration becomes minimal. The most important settings are:</p>

<ul>
  <li><a href="#openid-connect-url">Connect URL</a></li>
  <li>
    <p>Client ID</p>

    <p>Every IdP can host multiple clients (sometimes called applications) with different settings and authentication protocols. When enabling OpenID Connect, you should create a new client for Kibana in your IdP. The client ID uniquely identifies Kibana.</p>
  </li>
  <li>
    <p>Client secret</p>

    <p>Beyond the ID, each client also has a client secret assigned. The client secret is usually generated when the client is created. Applications can only obtain an identity token when they provide a client secret. You can find this secret in the settings of the client on your IdP.</p>
  </li>
</ul>

<h3 id="configuration-parameters">Configuration parameters</h3>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Name</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">opendistro_security.openid.connect_url</td>
      <td style="text-align: left">The URL where the IdP publishes the OpenID metadata. Required.</td>
    </tr>
    <tr>
      <td style="text-align: left">opendistro_security.openid.client_id</td>
      <td style="text-align: left">The ID of the OpenID Connect client configured in your IdP. Required.</td>
    </tr>
    <tr>
      <td style="text-align: left">opendistro_security.openid.client_secret</td>
      <td style="text-align: left">The client secret of the OpenID Connect client configured in your IdP. Required.</td>
    </tr>
    <tr>
      <td style="text-align: left">opendistro_security.openid.scope</td>
      <td style="text-align: left">The <a href="https://auth0.com/docs/scopes/current">scope of the identity token</a> issued by the IdP. Optional. Default is <code class="highlighter-rouge">openid profile email address phone</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left">opendistro_security.openid.header</td>
      <td style="text-align: left">HTTP header name of the JWT token. Optional. Default is <code class="highlighter-rouge">Authorization</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left">opendistro_security.openid.logout_url</td>
      <td style="text-align: left">The logout URL of your IdP. Optional. Only necessary if your IdP does not publish the logout URL in its metadata.</td>
    </tr>
    <tr>
      <td style="text-align: left">opendistro_security.openid.base_redirect_url</td>
      <td style="text-align: left">The base of the redirect URL that will be sent to your IdP. Optional. Only necessary when Kibana is behind a reverse proxy, in which case it should be different than <code class="highlighter-rouge">server.host</code> and <code class="highlighter-rouge">server.port</code> in <code class="highlighter-rouge">kibana.yml</code>.</td>
    </tr>
  </tbody>
</table>

<h3 id="configuration-example">Configuration example</h3>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Enable OpenID authentication</span>
<span class="s">opendistro_security.auth.type</span><span class="pi">:</span> <span class="s2">"</span><span class="s">openid"</span>

<span class="c1"># The IdP metadata endpoint</span>
<span class="s">opendistro_security.openid.connect_url</span><span class="pi">:</span> <span class="s2">"</span><span class="s">http://keycloak.example.com:8080/auth/realms/master/.well-known/openid-configuration"</span>

<span class="c1"># The ID of the OpenID Connect client in your IdP</span>
<span class="s">opendistro_security.openid.client_id</span><span class="pi">:</span> <span class="s2">"</span><span class="s">kibana-sso"</span>

<span class="c1"># The client secret of the OpenID Connect client</span>
<span class="s">opendistro_security.openid.client_secret</span><span class="pi">:</span> <span class="s2">"</span><span class="s">a59c51f5-f052-4740-a3b0-e14ba355b520"</span>

<span class="c1"># Use HTTPS instead of HTTP</span>
<span class="s">elasticsearch.url</span><span class="pi">:</span> <span class="s2">"</span><span class="s">https://&lt;hostname&gt;.com:&lt;http</span><span class="nv"> </span><span class="s">port&gt;"</span>

<span class="c1"># Configure the Kibana internal server user</span>
<span class="s">elasticsearch.username</span><span class="pi">:</span> <span class="s2">"</span><span class="s">kibanaserver"</span>
<span class="s">elasticsearch.password</span><span class="pi">:</span> <span class="s2">"</span><span class="s">kibanaserver"</span>

<span class="c1"># Disable SSL verification when using self-signed demo certificates</span>
<span class="s">elasticsearch.ssl.verificationMode</span><span class="pi">:</span> <span class="s">none</span>

<span class="c1"># Whitelist basic headers and multi-tenancy header</span>
<span class="s">elasticsearch.requestHeadersWhitelist</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">Authorization"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">security_tenant"</span><span class="pi">]</span>
</code></pre></div></div>

<h3 id="elasticsearch-configuration">Elasticsearch configuration</h3>

<p>Because Kibana requires that the internal Kibana server user can authenticate via HTTP basic authentication, you must configure two authentication domains. For OpenID Connect, the HTTP basic domain has to be placed first in the chain. Make sure you set the challenge flag to <code class="highlighter-rouge">false</code>.</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">basic_internal_auth_domain</span><span class="pi">:</span>
  <span class="na">enabled</span><span class="pi">:</span> <span class="no">true</span>
  <span class="na">order</span><span class="pi">:</span> <span class="m">0</span>
  <span class="na">http_authenticator</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">basic</span>
    <span class="na">challenge</span><span class="pi">:</span> <span class="no">false</span>
  <span class="na">authentication_backend</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">internal</span>
<span class="na">openid_auth_domain</span><span class="pi">:</span>
  <span class="na">enabled</span><span class="pi">:</span> <span class="no">true</span>
  <span class="na">order</span><span class="pi">:</span> <span class="m">1</span>
  <span class="na">http_authenticator</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">openid</span>
    <span class="na">challenge</span><span class="pi">:</span> <span class="no">false</span>
    <span class="na">config</span><span class="pi">:</span>
      <span class="na">subject_key</span><span class="pi">:</span> <span class="s">preferred_username</span>
      <span class="na">roles_key</span><span class="pi">:</span> <span class="s">roles</span>
      <span class="na">openid_connect_url</span><span class="pi">:</span> <span class="s">https://keycloak.example.com:8080/auth/realms/master/.well-known/openid-configuration</span>
  <span class="na">authentication_backend</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">noop</span>
</code></pre></div></div>


          
        </div>
      </div>
    </div>
  </div>
  
    <script>
      anchors.add();
    </script>
  
</body>
</html>
